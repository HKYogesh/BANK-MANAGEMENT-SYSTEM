
#include<iostream>
#include<vector>
using namespace std;
class BankAccount
{
private:
//data members
string name;
int accountnumber;
double balance;

public:
//member functions
BankAccount(string n,int ac,double bal)
{
name=n;
accountnumber=ac;
balance=bal;
}
string getname()
{
return name;
}
int getaccountnumber()
{
return accountnumber;
}
double getbalance()
{
return balance;
}
void findaccount();
void deposit(double amount)
{
    balance=balance+amount;
}
void withdraw(double amount)
{
    if(balance>=amount)
    {
        balance=balance-amount;
    }
    else
    {
        cout<<"Insufficient Balance"<<endl;
    }
}
};

class bankmanagement
{
    private:
vector<BankAccount> account;
    public:
        void AddAccount(string name,int acno,double balance)
        {
            account.push_back(BankAccount(name,acno,balance));
        }

        void showAllAccounts ()
        {
            cout<<"All Account Holders "<<endl;
            for(int i=0;i<account.size();i++)
            {
                cout<<"Name"<<account[i].getname()<<" , "<<"Account Number"<<account[i].getaccountnumber()<<" , "<<"Balance"<<account[i].getbalance()<<" , "<<endl;
            }
        }
        void searchaccount(int accno)
        {
            int i;
            for(i=0;i<account.size();i++)
            {
                if(account[i].getaccountnumber()==accno)
                {
                   cout<<"Name"<<account[i].getname()<<" , "<<"Account Number"<<account[i].getaccountnumber()<<" , "<<"Balance"<<account[i].getbalance()<<" , "<<endl;
                }
            }

        }


    BankAccount *findaccount(int accountno)
    {
        int i;
        for(i=0;i<account.size();i++)
        {
            if(account[i].getaccountnumber()==accountno)
            {
                return &account[i];
            }
        }
    }
};
int main()
{

bankmanagement bank;
int choice;
char op;
do
{
    system("cls");
cout<<"  Main Menu  "<<endl;
cout<<" Bank Management System"<<endl;
cout<<" 1.Create New Account "<<endl;
cout<<" 2.Search Account "<<endl;
cout<<" 3.Deposit Money "<<endl;
cout<<" 4.Withdraw Money"<<endl;
cout<<" 5.Show all Accounts"<<endl;
cout<<" 6.Exit "<<endl;
cout<<"_______________________"<<endl;
cout<<"Enter Your Choice "<<endl;
cin>>choice;

switch(choice)
{
    case 1 :
    {
        string name;
        int accno;
        double balance;
        cout<<"Enter Your Name"<<endl;
        cin>>name;
        cout<<"Enter account number "<<endl;
        cin>>accno;
        cout<<"Enter the initial Balance "<<endl;
        cin>>balance;
      bank.AddAccount(name,accno,balance);
        cout<<"Account Created Successfully "<<endl;
        break;
    }
    case 2:
        {
            int accountnum;
            cout<<"Enter account number"<<endl;
            cin>>accountnum;
            bank.searchaccount(accountnum);
            break;
        }
    case 3:
        {
            int accountno;
            cout<<"Enter account number"<<endl;
            cin>>accountno;
            double amount;
            cout<<"Enter the amount"<<endl;
            cin>>amount;
            BankAccount *bankacc;
            bankacc=bank.findaccount(accountno);
            if(bankacc!=NULL)
            {
                bankacc->deposit(amount);
                cout<<amount<<" deposited successfully"<<endl;
                cout<<"New balance is "<<bankacc->getbalance()<<endl;
            }
            else
            {
                cout<<"Account not found"<<endl;
            }
            break;
        }

    case 4:
        {
           int accountno;
            cout<<"Enter account number"<<endl;
            cin>>accountno;
            double amount;
            cout<<"Enter the amount"<<endl;
            cin>>amount;
            BankAccount *bankacc;
            bankacc=bank.findaccount(accountno);
            if(bankacc!=NULL)
            {
                bankacc->withdraw(amount);
                cout<<amount<<" withdrawn successfully"<<endl;
                cout<<"New balance is "<<bankacc->getbalance()<<endl;
            }
            else
            {
                cout<<"Account not found"<<endl;
            }
            break;
        }
    case 5:
        {
            bank.showAllAccounts();

            break;
        }
    case 6:
        {
            exit(1);
            break;
        }
}
cout<<"do you want to continue ? (yes/no) "<<endl;
cin>>op;
}
while(op=='Y' || op=='y');
}
